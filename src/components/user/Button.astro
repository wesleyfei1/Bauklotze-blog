---
import { cn } from '@/utils'

const { as: Tag = 'a', class: className, title, href, style = 'button', ...props } = Astro.props
---

<Tag
  class={cn(
    'group relative inline-flex items-center gap-x-2 rounded-lg bg-muted border border-border px-3 py-2 text-sm font-medium text-muted-foreground transition-all duration-200 hover:border-foreground/20 hover:bg-muted/80 hover:text-foreground no-underline',
    !href && 'cursor-default',
    style === 'pill' && 'rounded-full px-4',
    className
  )}
  href={href}
  data-astro-prefetch
  {...props}
>
  <div class="relative flex items-center gap-x-2">
    <slot name='before'>
      {
        style === 'back' && (
          <svg
            xmlns='http://www.w3.org/2000/svg'
            width='16'
            height='16'
            viewBox='0 0 24 24'
            fill='none'
            stroke-width='2.5'
            stroke-linecap='round'
            stroke-linejoin='round'
            class='stroke-muted-foreground group-hover:stroke-foreground transition-all duration-200'
          >
            <line
              x1='19'
              y1='12'
              x2='5'
              y2='12'
              class='translate-x-3 scale-x-0 transition-all duration-200 ease-in-out group-hover:translate-x-0 group-hover:scale-x-100'
            />
            <polyline
              points='12 19 5 12 12 5'
              class='translate-x-1 transition-all duration-200 ease-in-out group-hover:translate-x-0'
            />
          </svg>
        )
      }
    </slot>
    <slot>
      {title && <p class='my-0 transition-colors duration-200'>{title}</p>}
    </slot>
    <slot name='after'>
      {
        style === 'ahead' && (
          <svg
            xmlns='http://www.w3.org/2000/svg'
            width='16'
            height='16'
            viewBox='0 0 24 24'
            fill='none'
            stroke-width='2.5'
            stroke-linecap='round'
            stroke-linejoin='round'
            class='stroke-muted-foreground group-hover:stroke-foreground transition-all duration-200'
          >
            <line
              x1='5'
              y1='12'
              x2='19'
              y2='12'
              class='translate-x-4 scale-x-0 transition-all duration-200 ease-in-out group-hover:translate-x-1 group-hover:scale-x-100'
            />
            <polyline
              points='12 5 19 12 12 19'
              class='translate-x-0 transition-all duration-200 ease-in-out group-hover:translate-x-1'
            />
          </svg>
        )
      }
    </slot>
  </div>
</Tag>
